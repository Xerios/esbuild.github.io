var w=document.getElementById("outputResult"),Y=document.createElement("textarea"),ee=document.createElement("textarea"),W=document.createElement("textarea"),te=document.createElement("textarea"),ne=document.createElement("textarea"),X=[];S(Y,!0);S(ee,!0);S(W,!0);S(te,!0);S(ne,!0);function v(e){e.style.height="0",e.style.height=e.scrollHeight+1+"px"}function S(e,t=!1){e.readOnly=t,e.spellcheck=!1,e.autocapitalize="off",e.autocomplete="off"}function U(e){let t=`\x1B[31m\u2718 \x1B[41;31m[\x1B[41;97mERROR\x1B[41;31m]\x1B[0m \x1B[1m${e&&e.message||e}\x1B[0m`,r=e&&e.d,o=e&&e.M;if(r&&(t+=me(r)),o)for(let l of o)t+=`
  ${l.r}`,l.d&&(t+=me(l.d));return t}function me({B:e,t,n:r,m:o,L:l,R:i}){let n=o<2?"^":"~".repeat(o),f=`

    ${e}:${t}:${r}:
`;return f+=`\x1B[37m${t.toString().padStart(7)} \u2502 ${l.slice(0,r)}\x1B[32m${l.slice(r,r+o)}\x1B[37m${l.slice(r+o)}
`,i&&(f+=`        \u2502 ${" ".repeat(r)}\x1B[32m${n}\x1B[37m
`,n=i),f+=`        \u2575 ${" ".repeat(r)}\x1B[32m${n}\x1B[0m
`,f}function $(e,t,r){if(r!==void 0){let o=document.createElement("div");e.textContent=r.replace(/\n$/,""),o.id=t,o.className="hasLabel",o.append(e),w.append(o),v(e)}}function re({I:e,P:t,h:r,C:o,i:l}){if(w.innerHTML="",$(Y,"transformOutput",e),t&&$(ne,"sourceMap",t),r&&$(W,"transformMangleCache",JSON.stringify(r,null,2)),$(ee,"legalComments",o),l){let i=document.createElement("div");i.id="stderrLog",i.innerHTML=ge(l),w.append(i)}if(e===void 0&&!l){let i=document.createElement("div");i.id="outputStatus",i.textContent="(no output)",w.append(i)}}function oe({O:e,$:t,h:r,i:o},l){if(w.innerHTML="",X.length=0,e)for(let i of e){let n=document.createElement("div"),f=document.createElement("div"),u=document.createElement("textarea");f.className="outputPath",f.textContent=i.path.replace(/^\//,""),u.readOnly=!0,u.value=i.text.replace(/\n$/,""),S(u),n.className="buildOutput hasLabel",n.append(u),w.append(f,n),X.push(u),v(u)}if(o){let i=document.createElement("div");i.id="stderrLog",i.innerHTML=ge(o),w.append(i)}if((!e||!e.length)&&!o){let i=document.createElement("div");i.id="outputStatus",i.textContent=l?"(no output)":"(no entry points)",w.append(i)}r&&$(W,"mangleCache",JSON.stringify(r,null,2)),t&&$(te,"metafile",JSON.stringify(t,null,2))}function A(e){w.innerHTML=`<span id="outputStatus">Loading ${e?"version "+e:""}...</span>`}function pe(e){w.innerHTML="";let t=document.createElement("div");t.className="problem",t.innerHTML=`\u274C Failed to load esbuild: ${e}`,w.append(t)}function ge(e){return"<span>"+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\033\[([^m]*)m/g,(t,r)=>{switch(r){case"1":return'</span><span class="color-bold">';case"31":return'</span><span class="color-red">';case"32":return'</span><span class="color-green">';case"33":return'</span><span class="color-yellow">';case"35":return'</span><span class="color-magenta">';case"37":return'</span><span class="color-dim">';case"41;31":return'</span><span class="bg-red color-red">';case"41;97":return'</span><span class="bg-red color-white">';case"43;33":return'</span><span class="bg-yellow color-yellow">';case"43;30":return'</span><span class="bg-yellow color-black">';case"0":return"</span><span>"}throw new Error(`Unknown escape sequence: ${r}`)})+"</span>"}addEventListener("resize",()=>{if(k===0)v(Y),v(ne),v(ee);else{for(let e of X)v(e);v(te)}v(W)});function F(e,t){let r=e.trimStart();if(!r)return{};if(/^{|^\/[*/]/.test(r))return Se(e);let o=n=>{if(i[n]!==void 0)try{i[n]=new RegExp(i[n]+"")}catch(f){throw n=n.replace(/[A-Z]/g,u=>"-"+u.toLowerCase()),new Error(`Invalid regular expression for "--${n}=": ${f.message}`)}},l=n=>{i[n]!==void 0&&(i[n]=(i[n]+"").split(","))},i=Be(e,t);return o("mangleProps"),o("reserveProps"),l("resolveExtensions"),l("mainFields"),l("conditions"),l("target"),i}function Be(e,t){let r=[],o=e.length,l=0,i=0,n=0;for(;n<o;){let a=n,h=l,p=n-i,d="",c=e[n];if(c===" "||c==="	"||c===`
`){n++,c===`
`&&(l++,i=n);continue}for(;n<o&&(c=e[n],!(c===" "||c==="	"||c===`
`));)if(n++,c==="\\"&&n<o)c=e[n++],c===`
`?(l++,i=n):d+=c;else if(c==="'"){let m=l,P=n-i-1;for(;n===o&&se(e,"'",m,P,l,n-i),c=e[n++],c!=="'";){if(c==="\\"&&n<o&&e[n]!=="'"&&(c=e[n++],c===`
`)){l++,i=n;continue}c===`
`&&(l++,i=n),d+=c}}else if(c==='"'){let m=l,P=n-i-1;for(;n===o&&se(e,'"',m,P,l,n-i),c=e[n++],c!=='"';){if(c==="\\"&&n<o&&(c=e[n++],c===`
`)){l++,i=n;continue}c===`
`&&(l++,i=n),d+=c}}else d+=c;r.push({r:d,t:h,n:p,m:n-a})}let f=[],u=Object.create(null),s=(a,h)=>(a!==a.toLowerCase()&&x(e,"Invalid CLI-style flag: "+JSON.stringify("--"+a),h.t,h.n,a.length+2),a.replace(/-(\w)/g,(p,d)=>d.toUpperCase()));for(let{r:a,...h}of r)if(a.startsWith("--")){let p=a.indexOf(":"),d=a.indexOf("=");if(p>=0&&d<0){let c=s(a.slice(2,p),h),m=a.slice(p+1);(!(c in u)||!Array.isArray(u[c]))&&(u[c]=[]),u[c].push(m)}else if(p>=0&&p<d){let c=s(a.slice(2,p),h),m=a.slice(p+1,d),P=a.slice(d+1);(!(c in u)||typeof u[c]!="object"||Array.isArray(u[c]))&&(u[c]=Object.create(null)),u[c][m]=P}else if(d>=0){let c=a.slice(d+1);u[s(a.slice(2,d),h)]=c==="true"?!0:c==="false"?!1:c}else u[s(a.slice(2),h)]=!0}else a.startsWith("-")||t===0?x(e,'All CLI-style flags must start with "--"',h.t,h.n,h.m):f.push(a);return f.length&&(u.entryPoints=f),u}function Se(e){let t=()=>{let p=a.e===10?"string":(a.e===8?"identifier ":"")+JSON.stringify(a.r);return x(e,`Unexpected ${p} in ${i}`,a.t,a.n,a.r.length)},r=(p,d,c)=>x(e,`Expected "${d}" after ${c} in ${i}`,p.t,p.n+p.r.length,0,"",0,0,0,d),o=(p=!1)=>{for(;s<n;){let d=f,c=s-u,m=e[s];if(m===`
`){f++,u=++s;continue}if(m===" "||m==="	"){s++;continue}if(m==="/"){let B=s++;if(s<n&&e[s]==="/"){for(s++;s<n&&e[s]!==`
`;)s++;continue}if(s<n&&e[s]==="*"){for(s++;;)if(s===n&&x(e,'Expected "*/" to terminate multi-line comment',f,s-u,0,"The multi-line comment starts here:",d,c,2,"*/"),m=e[s++],m===`
`)f++,u=s;else if(m==="*"&&s<n&&e[s]==="/"){s++;break}continue}let g=0;for(;(s===n||e[s]===`
`)&&(g?x(e,'Expected "]" to terminate character class',f,s-u,0,"The character class starts here:",f,g-u,1,"]"):x(e,'Expected "/" to terminate regular expression',f,s-u,0,"The regular expression starts here:",d,c,1,"/")),m=e[s++],!(m==="/"&&!g);)m==="]"&&g?g=0:m==="["?g=s-1:m==="\\"&&s<n&&e[s]!==`
`&&s++;for(;s<n&&/\w/.test(e[s]);)s++;let E=e.slice(B,s),y;try{y=(0,eval)(E)}catch($e){x(e,`Invalid regular expression in ${i}`,d,c,s-B)}a={t:d,n:c,e:9,r:E,o:y};return}p&&x(e,`Expected end of file after ${i}`,f,s-u,0);let P="-,:[]{}+".indexOf(m);if(P>=0){s++,a={t:d,n:c,e:P,r:m,o:m};return}if(m==="."||m>="0"&&m<="9"){let B=/^[\.\w]$/,g=s++;for(;s<n&&B.test(e[s]);)s++;let E=e.slice(g,s);if(!/\d/.test(E))s=g;else{let y=+E;y!==y&&x(e,`Invalid number "${E}" in ${i}`,d,c,s-g),a={t:d,n:c,e:9,r:E,o:y};return}}let fe=/^[\w\$]$/;if(fe.test(m)){let B=s++;for(;s<n&&fe.test(e[s]);)s++;let g=e.slice(B,s),E=9,y=g;g==="null"?y=null:g==="true"?y=!0:g==="false"?y=!1:g==="undefined"?y=void 0:g==="Infinity"?y=1/0:g==="NaN"?y=NaN:E=8,a={t:d,n:c,e:E,r:g,o:y};return}if(m==='"'||m==="'"){let B=s++;for(;;)if((s===n||e[s]===`
`)&&se(e,m,d,c,f,s-u),e[s]==="\\"&&s+1<n)s+=2,e[s-1]===`
`&&(f++,u=s);else if(e[s++]===m)break;let g=e.slice(B,s),E;try{E=(0,eval)(g)}catch(y){x(e,`Invalid string in ${i}`,d,c,s-B)}a={t:d,n:c,e:10,r:g,o:E};return}x(e,`Unexpected ${JSON.stringify(m)} in ${i}`,f,s-u,1)}p||x(e,`Unexpected end of file in ${i}`,f,s-u,0)},l=()=>{if(a.e===5){let p=Object.create(null);for(;o(),a.e!==6;){a.e!==10&&a.e!==8&&t();let d=a;o(),a.e!==2&&r(d,":","property "+JSON.stringify(d.o)),o(),p[d.o]=l();let c=a;if(o(),a.e===6)break;a.e!==1&&r(c,",","property "+JSON.stringify(d.o))}return p}if(a.e===3){let p=[],d=0;for(;o(),a.e!==4;)if(a.e!==1){p[d++]=l();let c=a;if(o(),a.e===4)break;a.e!==1&&r(c,",","array element")}else p.length=++d;return p}return a.e===9||a.e===10?a.o:a.e===7?(o(),+l()):a.e===0?(o(),-l()):t()},i="JSON5 value",n=e.length,f=0,u=0,s=0,a;o();let h=l();return o(!0),h}function x(e,t,r,o,l,i="",n=0,f=0,u=0,s){let a=e.split(`
`),h=new Error(t);throw h.d={B:"<options>",t:r+1,n:o,m:l,L:a[r],R:s},i&&(h.M=[{r:i,d:{B:"<options>",t:n+1,n:f,m:u,L:a[n]}}]),h}function se(e,t,r,o,l,i){let n=t==='"'?"double":"single";x(e,`Failed to find the closing ${n} quote`,l,i,0,`The opening ${n} quote is here:`,r,o,1,t)}var M=document.querySelector("#transformOptions textarea"),O=document.querySelector("#transformInput textarea");function he(){return[M.value,O.value]}function ve(e,t){(M.value!==e||O.value!==t)&&(M.value=e,O.value=t,j()),N()}function N(){v(M),v(O)}function j(){_();try{V({y:"transform",b:O.value,l:F(M.value,0)}).then(e=>{re(e)},()=>{})}catch(e){re({i:U(e)})}}M.oninput=()=>{v(M),j()};O.oninput=()=>{v(O),j()};addEventListener("resize",N);N();var k=0,ye=[document.getElementById("transformPanel"),document.getElementById("buildPanel")],Ce=document.getElementById("modeSwitcher"),z=Ce.querySelectorAll("a");z[0].onclick=()=>{q(0)&&(A(null),K())};z[1].onclick=()=>{xe(),q(1)&&(A(null),K())};function q(e){return k===e?!1:(z[k].classList.remove("active"),ye[k].style.display="none",k=e,z[k].classList.add("active"),ye[k].style.display="block",!0)}function K(){k===0?(N(),j()):(G(),L())}var Ee=Pe(),b=document.querySelector("#versionPicker select"),Q=document.createElement("option"),ie;Q.textContent="Loading...";b.append(Q);b.disabled=!0;Ee.then(e=>{let t=e.filter(r=>!/^0\.[0-4]\.|^0\.5\.0/.test(r));b.disabled=!1,Q.remove();for(let r of t){let o=document.createElement("option");o.textContent=r,b.append(o)}b.onchange=()=>ie(b.value),b.selectedIndex=-1},()=>{Q.textContent="\u274C Loading failed!"});function be(){return b.disabled||b.selectedIndex<0?null:b.value}function ae(e){ie=e}async function J(e){let t=await Ee,r=e==="latest"&&t.length?0:t.indexOf(e);r>=0&&b.selectedIndex!==r&&(b.selectedIndex=r,await ie(t[r]))}async function Pe(){try{let e="https://data.jsdelivr.com/v1/package/npm/esbuild-wasm",t=(await fetch(e).then(r=>r.json())).versions;if(t&&t.length)return console.log(`Loaded ${t.length} versions from ${e}`),t}catch(e){console.error(e)}try{let e="https://registry.npmjs.org/esbuild-wasm",t=(await fetch(e).then(r=>r.json())).versions;if(t&&(t=Object.keys(t).reverse(),t.length))return console.log(`Loaded ${t.length} versions from ${e}`),t}catch(e){console.error(e)}throw new Error}var Me=fetch("worker.js").then(e=>e.text()),I=null,C=null,Z=new Promise((e,t)=>{ae(r=>{let o=we(r);return o.then(e,t),ae(l=>(Z.then(i=>i.terminate()),Z=we(l),Z)),o})});async function Te(e){try{let t=await fetch(`https://cdn.jsdelivr.net/npm/${e}`);if(t.ok)return t}catch(t){}return fetch(`https://unpkg.com/${e}`)}async function we(e){let t;A(e);try{I&&I.v(),C&&C.v(),I=null,C=null;let[r,o,l]=e.split(".").map(a=>+a),i=r===0&&(o<8||o===8&&l<33)?"":".min",[n,f,u]=await Promise.all([Me,Te(`esbuild-wasm@${e}/lib/browser${i}.js`).then(a=>a.text()),Te(`esbuild-wasm@${e}/esbuild.wasm`).then(a=>a.arrayBuffer())]),s=URL.createObjectURL(new Blob([f,`
`,n],{type:"application/javascript"}));return await new Promise((a,h)=>{let p=new Worker(s);p.onmessage=d=>{p.onmessage=null,d.data.k==="success"?(a(p),K()):(h(new Error("Failed to create worker")),t=d.data.A),URL.revokeObjectURL(s)},p.postMessage([e,u],[u])})}catch(r){throw pe(t||r+""),r}}function V(e){function t(r,o){I?(C&&C.v(),C=o):(I=o,r.onmessage=l=>{r.onmessage=null,o.N(l.data),I=null,C&&(t(r,C),C=null)},r.postMessage(o.D))}return new Promise((r,o)=>{Z.then(l=>t(l,{D:e,N:r,v:()=>o(new Error("Task aborted"))}),o)})}var H=document.querySelector("#buildOptions textarea"),le=document.getElementById("addInput"),Oe=document.getElementById("buildInputs"),T=[];function ce(){return[H.value,T.map(e=>({x:e.c.classList.contains("entryPoint"),E:e.u.value.trim(),a:e.f.value}))]}function ke(e,t){if(JSON.stringify([e,t])!==JSON.stringify(ce())){for(let r of T)r.c.remove();T.length=0,H.value=e;for(let r of t)de(r.x,r.E,r.a);R(),L()}G()}function xe(){T.length||de(!0,ue())}function G(){v(H);for(let e of T)v(e.f)}function L(){_();try{let e=F(H.value,1),t=Array.isArray(e.entryPoints)?e.entryPoints:e.entryPoints=[],r=Object.create(null),o=Object.create(null),l;for(let i of T){let n=i.u.value.trim();if((o[n]||(o[n]=[])).push(i),n)r[n]=i.f.value,i.c.classList.contains("entryPoint")&&!t.includes(n)&&t.push(n);else{let u=e.stdin&&typeof e.stdin=="object"?e.stdin:e.stdin={};u.contents=i.f.value,"resolveDir"in u||(u.resolveDir="/")}}for(let i in o){let n=o[i];if(n.length>1){for(let f of n)f.c.classList.add("duplicate");l||(l=new Error("Duplicate input file: "+(i?JSON.stringify(i):"<stdin>")))}else n[0].c.classList.remove("duplicate")}if(l)throw l;V({y:"build",b:r,l:e}).then(i=>{oe(i,t.length)},()=>{})}catch(e){oe({i:U(e)},-1)}}function ue(){if(!T.length)return"entry.js";let e=1,t="file.js";for(;T.some(r=>r.u.value.trim()===t);)t=`file${++e}.js`;return t}function R(){le.textContent="+ "+ue()}function de(e=!1,t="",r=""){let o=document.createElement("div"),l=document.createElement("a"),i=document.createElement("a"),n=document.createElement("input"),f=document.createElement("div"),u=document.createElement("textarea"),s={c:o,u:n,f:u};return S(n),S(u),n.placeholder="<stdin>",n.value=t,l.className="entryToggle",l.textContent="",l.href="javascript:void 0",i.className="remove",i.textContent="\xD7",i.href="javascript:void 0",u.placeholder="(enter your code here)",u.value=r,o.className="buildInput",e&&o.classList.add("entryPoint"),f.className="hasLabel",f.append(u),o.append(l,n,i,f),Oe.insertBefore(o,le),n.oninput=()=>{R(),L()},n.onblur=()=>{let a=n.value.trim();n.value!==a&&(n.value=a,R(),L())},u.oninput=()=>{v(u),L()},l.onclick=()=>{o.classList.toggle("entryPoint"),L()},i.onclick=()=>{let a=T.indexOf(s);a<0||(T.splice(a,1),o.remove(),R(),L())},T.push(s),R(),v(u),s}H.oninput=()=>{v(H),L()};le.onclick=()=>{let e=de(!T.length,ue());e.u.focus(),e.u.select(),L()};addEventListener("resize",G);R();function Le(){let e=location.hash,t=atob(e.slice(1)).split("\0");if(t[0]==="t"&&t.length===4)return q(0),ve(t[2],t[3]),J(t[1]),!0;if(t[0]==="b"&&t.length%3===0){let r=[];for(let o=3;o<t.length;o+=3)r.push({x:t[o]==="e",E:t[o+1],a:t[o+2]});return q(1),ke(t[2],r),J(t[1]),!0}if(location.hash!=="")try{history.replaceState({},"",location.pathname)}catch(r){}return!1}function _(){let e=be();if(!e)return;let t;if(k===0){let[r,o]=he();(r||o)&&(t=["t",e,r,o])}else{let[r,o]=ce();t=["b",e,r];for(let l of o)t.push(l.x?"e":"",l.E,l.a)}try{let r=t?"#"+btoa(t.join("\0")).replace(/=+$/,""):"";location.hash!==r&&history.replaceState({},"",r||location.pathname)}catch(r){if(location.hash!=="")try{history.replaceState({},"",location.pathname)}catch(o){}}}Le()||J("latest");
