function I(e){let t=document.createElement("a");return t.className="underLink",t.href="javascript:void 0",t.target="_blank",t.textContent="Visualize this source map",t.onclick=()=>{let[o,n]=e(),a=`${o.length}\0${o}${n.length}\0${n}`;t.href="https://evanw.github.io/source-map-visualization/#"+btoa(a),setTimeout(()=>t.href="javascript:void 0")},t}function Pe(e){let t=/\/(\/)[#@] *sourceMappingURL=([^\s]+)/.exec(e);return t||(t=/\/(\*)[#@] *sourceMappingURL=((?:[^\s*]|\*[^/])+)(?:[^*]|\*[^/])*\*\//.exec(e)),t&&t[2]}function P(e,t,o){let n=Pe(t);if(o&&o.remove(),n&&n.startsWith("data:application/json;base64,")){let a;try{a=JSON.parse(atob(n.slice(29)))}catch{}a&&typeof a=="object"&&(o=I(()=>[t,JSON.stringify(a)]),e.append(o))}return o}var k=document.getElementById("outputResult"),z=document.createElement("textarea"),ie=document.createElement("textarea"),K=document.createElement("textarea"),ae=document.createElement("textarea"),V=document.createElement("textarea"),oe=[],R,se=!1;M(z,!0);M(ie,!0);M(K,!0);M(ae,!0);M(V,!0);function v(e){document.body.style.paddingBottom=e.clientHeight+"px",e.style.height="0",e.style.height=e.scrollHeight+1+"px",document.body.style.paddingBottom="0"}function M(e,t=!1){e.readOnly=t,e.spellcheck=!1,e.autocapitalize="off",e.autocomplete="off"}function G(e){let t=`\x1B[31m\u2718 \x1B[41;31m[\x1B[41;97mERROR\x1B[41;31m]\x1B[0m \x1B[1m${e&&e.message||e}\x1B[0m`,o=e&&e.W,n=e&&e.ie;if(o&&(t+=ve(o)),n)for(let a of n)t+=`
  ${a.L}`,a.W&&(t+=ve(a.W));return t}function ve({ne:e,E:t,k:o,_:n,se:a,le:s}){let r=n<2?"^":"~".repeat(n),f=`

    ${e}:${t}:${o}:
`;return f+=`\x1B[37m${t.toString().padStart(7)} \u2502 ${a.slice(0,o)}\x1B[32m${a.slice(o,o+n)}\x1B[37m${a.slice(o+n)}
`,s&&(f+=`        \u2502 ${" ".repeat(o)}\x1B[32m${r}\x1B[37m
`,r=s),f+=`        \u2575 ${" ".repeat(o)}\x1B[32m${r}\x1B[0m
`,f}function H(e,t,o){if(o!==void 0){let n=document.createElement("div");return e.textContent=o.replace(/\n$/,""),n.id=t,n.className="hasLabel",n.append(e),k.append(n),v(e),n}}function le({ae:e,ce:t,K:o,ue:n,R:a}){if(k.innerHTML="",H(z,"transformOutput",e),t?(H(V,"sourceMap",t),R&&R.remove(),R=I(()=>[e||"",JSON.stringify(JSON.parse(t))]),V.parentElement.append(R)):R=P(z.parentElement,e||"",R),o&&H(K,"transformMangleCache",JSON.stringify(o,null,2)),H(ie,"legalComments",n),a){let s=document.createElement("div");s.id="stderrLog",s.innerHTML=xe(a),k.append(s)}if(e===void 0&&!a){let s=document.createElement("div");s.id="outputStatus",s.textContent="(no output)",k.append(s)}}function ce({fe:e,de:t,K:o,R:n},a){if(k.innerHTML="",oe.length=0,e){e.sort((s,r)=>+(s.path>r.path)-+(s.path<r.path));for(let s of e){let r=document.createElement("div"),f=document.createElement("div"),d=document.createElement("textarea");if(f.className="outputPath",f.textContent=s.path.replace(/^\//,""),d.readOnly=!0,d.value=s.text.replace(/\n$/,""),M(d),r.className="buildOutput hasLabel",r.append(d),s.path.endsWith(".map")){for(let i of e)if(s.path===i.path+".map"){r.append(I(()=>[i.text,JSON.stringify(JSON.parse(s.text))]));break}}else P(r,s.text,void 0);k.append(f,r),oe.push(d),v(d)}}if(n){let s=document.createElement("div");s.id="stderrLog",s.innerHTML=xe(n),k.append(s)}if((!e||!e.length)&&!n){let s=document.createElement("div");s.id="outputStatus",s.textContent=a?"(no output)":"(no entry points)",k.append(s)}if(o&&H(K,"mangleCache",JSON.stringify(o,null,2)),t){let s=H(ae,"metafile",JSON.stringify(t,null,2)),r=document.createElement("a");r.className="underLink",r.href="javascript:void 0",r.target="_blank",r.textContent="Analyze this metafile",r.onclick=()=>{r.href="/analyze/#"+btoa(JSON.stringify(t)),setTimeout(()=>r.href="javascript:void 0")},s.append(r)}}function W(e){e&&(se=!1),!se&&(k.innerHTML=`<span id="outputStatus">Loading${e?" version "+e:""}...</span>`)}function ye(e){se=!0,k.innerHTML="";let t=document.createElement("div");t.className="problem",t.innerHTML=`\u274C Failed to load esbuild: ${e}`,k.append(t)}function xe(e){return"<span>"+e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\033\[([^m]*)m/g,(t,o)=>{switch(o){case"1":return'</span><span class="color-bold">';case"31":return'</span><span class="color-red">';case"32":return'</span><span class="color-green">';case"33":return'</span><span class="color-yellow">';case"35":return'</span><span class="color-magenta">';case"37":return'</span><span class="color-dim">';case"41;31":return'</span><span class="bg-red color-red">';case"41;97":return'</span><span class="bg-red color-white">';case"43;33":return'</span><span class="bg-yellow color-yellow">';case"43;30":return'</span><span class="bg-yellow color-black">';case"0":return"</span><span>"}throw new Error(`Unknown escape sequence: ${o}`)})+"</span>"}addEventListener("resize",()=>{if(w===0)v(z),v(V),v(ie);else{for(let e of oe)v(e);v(ae)}v(K)});function Q(e,t){let o=e.trimStart();if(!o)return{};if(/^{|^\/[*/]/.test(o))return Ie(e);let n=r=>{if(s[r]!==void 0)try{s[r]=new RegExp(s[r]+"")}catch(f){throw r=r.replace(/[A-Z]/g,d=>"-"+d.toLowerCase()),new Error(`Invalid regular expression for "--${r}=": ${f.message}`)}},a=r=>{s[r]!==void 0&&(s[r]=(s[r]+"").split(","))},s=$e(e,t);return n("mangleProps"),n("reserveProps"),a("resolveExtensions"),a("mainFields"),a("conditions"),a("target"),s}function $e(e,t){let o=[],n=e.length,a=0,s=0,r=0;for(;r<n;){let c=r,g=a,p=r-s,u="",l=e[r];if(l===" "||l==="	"||l===`
`){r++,l===`
`&&(a++,s=r);continue}for(;r<n&&(l=e[r],!(l===" "||l==="	"||l===`
`));)if(r++,l==="\\"&&r<n)l=e[r++],l===`
`?(a++,s=r):u+=l;else if(l==="'"){let m=a,T=r-s-1;for(;r===n&&ue(e,"'",m,T,a,r-s),l=e[r++],l!=="'";){if(l==="\\"&&r<n&&e[r]!=="'"&&(l=e[r++],l===`
`)){a++,s=r;continue}l===`
`&&(a++,s=r),u+=l}}else if(l==='"'){let m=a,T=r-s-1;for(;r===n&&ue(e,'"',m,T,a,r-s),l=e[r++],l!=='"';){if(l==="\\"&&r<n&&(l=e[r++],l===`
`)){a++,s=r;continue}l===`
`&&(a++,s=r),u+=l}}else u+=l;o.push({L:u,E:g,k:p,_:r-c})}let f=[],d=Object.create(null),i=(c,g)=>(c!==c.toLowerCase()&&x(e,"Invalid CLI-style flag: "+JSON.stringify("--"+c),g.E,g.k,c.length+2),c.replace(/-(\w)/g,(p,u)=>u.toUpperCase()));for(let{L:c,...g}of o)if(c.startsWith("--")){let p=c.indexOf(":"),u=c.indexOf("=");if(p>=0&&u<0){let l=i(c.slice(2,p),g),m=c.slice(p+1);(!(l in d)||!Array.isArray(d[l]))&&(d[l]=[]),d[l].push(m)}else if(p>=0&&p<u){let l=i(c.slice(2,p),g),m=c.slice(p+1,u),T=c.slice(u+1);(!(l in d)||typeof d[l]!="object"||Array.isArray(d[l]))&&(d[l]=Object.create(null)),d[l][m]=T}else if(u>=0){let l=c.slice(u+1);d[i(c.slice(2,u),g)]=l==="true"?!0:l==="false"?!1:l}else d[i(c.slice(2),g)]=!0}else c.startsWith("-")||t===0?x(e,'All CLI-style flags must start with "--"',g.E,g.k,g._):f.push(c);return f.length&&(d.entryPoints=f),d}function Ie(e){let t=()=>{let p=c.v===10?"string":(c.v===8?"identifier ":"")+JSON.stringify(c.L);return x(e,`Unexpected ${p} in ${s}`,c.E,c.k,c.L.length)},o=(p,u,l)=>x(e,`Expected "${u}" after ${l} in ${s}`,p.E,p.k+p.L.length,0,"",0,0,0,u),n=(p=!1)=>{for(;i<r;){let u=f,l=i-d,m=e[i];if(m===`
`){f++,d=++i;continue}if(m===" "||m==="	"){i++;continue}if(m==="/"){let B=i++;if(i<r&&e[i]==="/"){for(i++;i<r&&e[i]!==`
`;)i++;continue}if(i<r&&e[i]==="*"){for(i++;;)if(i===r&&x(e,'Expected "*/" to terminate multi-line comment',f,i-d,0,"The multi-line comment starts here:",u,l,2,"*/"),m=e[i++],m===`
`)f++,d=i;else if(m==="*"&&i<r&&e[i]==="/"){i++;break}continue}let h=0;for(;(i===r||e[i]===`
`)&&(h?x(e,'Expected "]" to terminate character class',f,i-d,0,"The character class starts here:",f,h-d,1,"]"):x(e,'Expected "/" to terminate regular expression',f,i-d,0,"The regular expression starts here:",u,l,1,"/")),m=e[i++],!(m==="/"&&!h);)m==="]"&&h?h=0:m==="["?h=i-1:m==="\\"&&i<r&&e[i]!==`
`&&i++;for(;i<r&&/\w/.test(e[i]);)i++;let b=e.slice(B,i),y;try{y=(0,eval)(b)}catch{x(e,`Invalid regular expression in ${s}`,u,l,i-B)}c={E:u,k:l,v:9,L:b,z:y};return}p&&x(e,`Expected end of file after ${s}`,f,i-d,0);let T="-,:[]{}+".indexOf(m);if(T>=0){i++,c={E:u,k:l,v:T,L:m,z:m};return}if(m==="."||m>="0"&&m<="9"){let B=/^[\.\w]$/,h=i++;for(;i<r&&B.test(e[i]);)i++;let b=e.slice(h,i);if(!/\d/.test(b))i=h;else{let y=+b;y!==y&&x(e,`Invalid number "${b}" in ${s}`,u,l,i-h),c={E:u,k:l,v:9,L:b,z:y};return}}let J=/^[\w\$]$/;if(J.test(m)){let B=i++;for(;i<r&&J.test(e[i]);)i++;let h=e.slice(B,i),b=9,y=h;h==="null"?y=null:h==="true"?y=!0:h==="false"?y=!1:h==="undefined"?y=void 0:h==="Infinity"?y=1/0:h==="NaN"?y=NaN:b=8,c={E:u,k:l,v:b,L:h,z:y};return}if(m==='"'||m==="'"){let B=i++;for(;;)if((i===r||e[i]===`
`)&&ue(e,m,u,l,f,i-d),e[i]==="\\"&&i+1<r)i+=2,e[i-1]===`
`&&(f++,d=i);else if(e[i++]===m)break;let h=e.slice(B,i),b;try{b=(0,eval)(h)}catch{x(e,`Invalid string in ${s}`,u,l,i-B)}c={E:u,k:l,v:10,L:h,z:b};return}x(e,`Unexpected ${JSON.stringify(m)} in ${s}`,f,i-d,1)}p||x(e,`Unexpected end of file in ${s}`,f,i-d,0)},a=()=>{if(c.v===5){let p=Object.create(null);for(;n(),c.v!==6;){c.v!==10&&c.v!==8&&t();let u=c;n(),c.v!==2&&o(u,":","property "+JSON.stringify(u.z)),n(),p[u.z]=a();let l=c;if(n(),c.v===6)break;c.v!==1&&o(l,",","property "+JSON.stringify(u.z))}return p}if(c.v===3){let p=[],u=0;for(;n(),c.v!==4;)if(c.v!==1){p[u++]=a();let l=c;if(n(),c.v===4)break;c.v!==1&&o(l,",","array element")}else p.length=++u;return p}return c.v===9||c.v===10?c.z:c.v===7?(n(),+a()):c.v===0?(n(),-a()):t()},s="JSON5 value",r=e.length,f=0,d=0,i=0,c;n();let g=a();return n(!0),g}function x(e,t,o,n,a,s="",r=0,f=0,d=0,i){let c=e.split(`
`),g=new Error(t);throw g.W={ne:"<options>",E:o+1,k:n,_:a,se:c[o],le:i},s&&(g.ie=[{L:s,W:{ne:"<options>",E:r+1,k:f,_:d,se:c[r]}}]),g}function ue(e,t,o,n,a,s){let r=t==='"'?"double":"single";x(e,`Failed to find the closing ${r} quote`,a,s,0,`The opening ${r} quote is here:`,o,n,1,t)}var $=document.querySelector("#transformOptions textarea"),O=document.querySelector("#transformInput textarea"),be;function Ee(){return[$.value,O.value]}function Te(e,t){($.value!==e||O.value!==t)&&($.value=e,O.value=t,U()),q()}function q(){v($),v(O)}function U(){let e=O.value;X(),be=P(O.parentElement,e,be);try{Z({G:"transform",X:e,H:Q($.value,0)}).then(t=>{le(t)},()=>{})}catch(t){le({R:G(t)})}}$.oninput=()=>{v($),U()};O.oninput=()=>{v(O),U()};addEventListener("resize",q);q();var w=0,Le=[document.getElementById("transformPanel"),document.getElementById("buildPanel")],Re=document.getElementById("modeSwitcher"),Y=Re.querySelectorAll("a");Y[0].onclick=()=>{D(0)&&(W(null),ee())};Y[1].onclick=()=>{ke(),D(1)&&(W(null),ee())};function D(e){return w===e?!1:(Y[w].classList.remove("active"),Le[w].style.display="none",w=e,Y[w].classList.add("active"),Le[w].style.display="block",!0)}function ee(){w===0?(q(),U()):(te(),S())}var we=He(),L=document.querySelector("#versionPicker select"),ne=document.createElement("option"),de;ne.textContent="Loading...";L.append(ne);L.disabled=!0;we.then(e=>{let t=e.filter(o=>!/^0\.[0-4]\.|^0\.5\.0/.test(o));L.disabled=!1,ne.remove();for(let o of t){let n=document.createElement("option");n.textContent=o,L.append(n)}L.onchange=()=>de(L.value),L.selectedIndex=-1},()=>{ne.textContent="\u274C Loading failed!"});function Se(){return L.disabled||L.selectedIndex<0?null:L.value}function fe(e){de=e}async function F(e){let t=await we,o=e==="latest"&&t.length?0:t.indexOf(e);o>=0&&L.selectedIndex!==o&&(L.selectedIndex=o,await de(t[o]))}async function He(){let e=new AbortController,t=setTimeout(()=>e.abort("Timeout"),5e3);try{let o="https://data.jsdelivr.com/v1/package/npm/esbuild-wasm",n=await fetch(o,{signal:e.signal});if(n&&n.ok){clearTimeout(t);let a=(await n.json()).versions;if(a&&a.length)return console.log(`Loaded ${a.length} versions from ${o}`),a}}catch(o){console.error(o)}try{let o="https://registry.npmjs.org/esbuild-wasm",n=(await fetch(o).then(a=>a.json())).versions;if(n&&(n=Object.keys(n).reverse(),n.length))return console.log(`Loaded ${n.length} versions from ${o}`),n}catch(o){console.error(o)}throw new Error}var Ae=fetch("worker.js").then(e=>e.text()),A=null,C=null,re=new Promise((e,t)=>{fe(o=>{let n=Me(o);return n.then(e,t),fe(a=>(re.then(s=>s.terminate()),re=Me(a),re)),n})});async function Be(e){let t=new AbortController,o=setTimeout(()=>t.abort("Timeout"),5e3);try{let n=await fetch(`https://cdn.jsdelivr.net/npm/${e}`,{signal:t.signal});if(n.ok)return clearTimeout(o),n}catch(n){console.error(n)}return fetch(`https://unpkg.com/${e}`)}async function Me(e){var o;let t;W(e);try{A&&A.Y(),C&&C.Y(),A=null,C=null;let[n,a,s]=e.split(".").map(u=>+u),r=n===0&&(a<8||a===8&&s<33)?"":".min",f=(o=/^\?polywasm=([01])$/.exec(location.search))==null?void 0:o[1],[d,i,c]=await Promise.all([Ae,Be(`esbuild-wasm@${e}/lib/browser${r}.js`).then(u=>u.text()),Be(`esbuild-wasm@${e}/esbuild.wasm`).then(u=>u.arrayBuffer())]),g=[i,`
var polywasm=${f};`,d],p=URL.createObjectURL(new Blob(g,{type:"application/javascript"}));return await new Promise((u,l)=>{let m=new Worker(p);m.onmessage=T=>{if(T.data.J==="slow"){let J=document.getElementById("slowWarning");J.innerHTML="<span>\u26A0\uFE0F Processing is slow because </span><span>WebAssembly is disabled \u26A0\uFE0F</span>",J.style.display="flex";return}m.onmessage=null,T.data.J==="success"?(u(m),ee()):(l(new Error("Failed to create worker")),t=T.data.me),URL.revokeObjectURL(p)},m.postMessage([e,c],[c])})}catch(n){throw ye(t||n+""),n}}function Z(e){function t(o,n){A?(C&&C.Y(),C=n):(A=n,o.onmessage=a=>{o.onmessage=null,n.Fe(a.data),A=null,C&&(t(o,C),C=null)},o.postMessage(n.pe))}return new Promise((o,n)=>{re.then(a=>t(a,{pe:e,Fe:o,Y:()=>n(new Error("Task aborted"))}),n)})}var j=document.querySelector("#buildOptions textarea"),me=document.getElementById("addInput"),Ne=document.getElementById("buildInputs"),E=[];function pe(){return[j.value,E.map(e=>({Z:e.j.classList.contains("entryPoint"),ee:e.N.value.trim(),U:e.D.value}))]}function Ce(e,t){if(JSON.stringify([e,t])!==JSON.stringify(pe())){for(let o of E)o.j.remove();E.length=0,j.value=e;for(let o of t)he(o.Z,o.ee,o.U);N(),S()}te()}function ke(){E.length||he(!0,ge())}function te(){v(j);for(let e of E)v(e.D)}function S(){X();try{let e=Q(j.value,1),t=Array.isArray(e.entryPoints)?e.entryPoints:e.entryPoints=[],o=Object.create(null),n=Object.create(null),a;for(let s of E){let r=s.N.value.trim();if((n[r]||(n[r]=[])).push(s),r)o[r]=s.D.value,s.j.classList.contains("entryPoint")&&!t.includes(r)&&t.push(r);else{let d=e.stdin&&typeof e.stdin=="object"?e.stdin:e.stdin={};d.contents=s.D.value,"resolveDir"in d||(d.resolveDir="/")}}for(let s in n){let r=n[s];if(r.length>1){for(let f of r)f.j.classList.add("duplicate");a||(a=new Error("Duplicate input file: "+(s?JSON.stringify(s):"<stdin>")))}else r[0].j.classList.remove("duplicate")}if(a)throw a;Z({G:"build",X:o,H:e}).then(s=>{ce(s,t.length)},()=>{})}catch(e){ce({R:G(e)},-1)}}function ge(){if(!E.length)return"entry.js";let e=1,t="file.js";for(;E.some(o=>o.N.value.trim()===t);)t=`file${++e}.js`;return t}function N(){me.textContent="+ "+ge()}function he(e=!1,t="",o=""){let n=()=>{let p=f.value;if(p.endsWith(".map")){let u;try{u=JSON.parse(i.value)}catch{}if(u&&typeof u=="object"){g=I(()=>{let l="";for(let m of E)if(p===m.N.value+".map"){l=m.D.value;break}return[l,JSON.stringify(u)]}),a.append(g);return}}g=P(a,i.value,g)},a=document.createElement("div"),s=document.createElement("a"),r=document.createElement("a"),f=document.createElement("input"),d=document.createElement("div"),i=document.createElement("textarea"),c={j:a,N:f,D:i},g;return M(f),M(i),f.placeholder="<stdin>",f.value=t,s.className="entryToggle",s.textContent="",s.href="javascript:void 0",r.className="remove",r.textContent="\xD7",r.href="javascript:void 0",i.placeholder="(enter your code here)",i.value=o,a.className="buildInput",e&&a.classList.add("entryPoint"),d.className="hasLabel",d.append(i),a.append(s,f,r,d),Ne.insertBefore(a,me),f.oninput=()=>{n(),N(),S()},f.onblur=()=>{let p=f.value.trim();f.value!==p&&(f.value=p,N(),S())},i.oninput=()=>{n(),v(i),S()},s.onclick=()=>{a.classList.toggle("entryPoint"),S()},r.onclick=()=>{let p=E.indexOf(c);p<0||(E.splice(p,1),a.remove(),N(),S())},E.push(c),n(),N(),v(i),c}j.oninput=()=>{v(j),S()};me.onclick=()=>{let e=he(!E.length,ge());e.N.focus(),e.N.select(),S()};addEventListener("resize",te);N();function Oe(){let e=location.hash,t=atob(e.slice(1)).split("\0");if(t[0]==="t"&&t.length===4)return D(0),Te(t[2],t[3]),F(t[1]),!0;if(t[0]==="b"&&t.length%3===0){let o=[];for(let n=3;n<t.length;n+=3)o.push({Z:t[n]==="e",ee:t[n+1],U:t[n+2]});return D(1),Ce(t[2],o),F(t[1]),!0}if(location.hash!=="")try{history.replaceState({},"",location.pathname)}catch{}return!1}function X(){let e=Se();if(!e)return;let t;if(w===0){let[n,a]=Ee();(n||a)&&(t=["t",e,n,a])}else{let[n,a]=pe();t=["b",e,n];for(let s of a)t.push(s.Z?"e":"",s.ee,s.U)}let o=location.pathname+location.search;try{let n=t?"#"+btoa(t.join("\0")).replace(/=+$/,""):"";location.hash!==n&&history.replaceState({},"",n||o)}catch{if(location.hash!=="")try{history.replaceState({},"",o)}catch{}}}Oe()||F("latest");
